<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Web page CSS -->
    <link rel="stylesheet" href="assets/css/styles.css" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Kofita</title>
    
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css">
    
  </head>
  <body>
    <div class="fluid-container">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="#"><img id="logo" src="assets/images/logo-negativo.png"></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
              <li class="nav-item active">
                  <a class="nav-link" href="#">Inicio <span class="sr-only">(current)</span></a>
              </li>
 
              <li class="nav-item">
                <a class="nav-link" href="#galeria">Galeria</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#presentacion">Presentación</a>
          </li>
              <li class="nav-item">
                  <a class="nav-link" href="#suscripcion">Suscripción</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="#contacto">Contacto</a>
              </li>
          </ul>
      </div>
  </nav>

    

      
      <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block w-100" src="assets/images/FOTOP.jpg" alt="First slide">
            <div class="carousel-caption d-none d-md-block">
              <h5>Camisa blanca</h5>
              <p>confeccionada en lino</p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="assets/images/FOTO2P.jpg" alt="Second slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="assets/images/FOTO3P.jpg" alt="Third slide">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      

      <section id="galeria">
        <div class="container mt-5">
          <div class="row gallery">
            <div class="col-md-4">
              <a href="assets/images/f1.jpeg" title="Pulsera turquesa, coral y baño de oro" data-description="" class="gallery-link">
                <img src="assets/images/f1.jpeg" alt="Foto 1">
              </a>
            </div>
            <div class="col-md-4">
              <a href="assets/images/f2.jpeg" title="Foto 2" data-description="Descripción de la foto 2" class="gallery-link">
                <img src="assets/images/f2.jpeg" alt="Foto 2">
              </a>
            </div>
            <div class="col-md-4">
              <a href="assets/images/f3.jpeg" title="Foto 3" data-description="Descripción de la foto 3" class="gallery-link">
                <img src="assets/images/f3.jpeg" alt="Foto 3">
              </a>
            </div>
          </div>
  
          <div class="row gallery">
            <div class="col-md-4 mt-5">
              <a href="assets/images/f4.jpeg" title="Pulsera turquesa, coral y baño de oro" data-description="" class="gallery-link">
                <img src="assets/images/f4.jpeg" alt="Foto 1">
              </a>
            </div>
            <div class="col-md-4 mt-5">
              <a href="assets/images/f5.jpeg" title="Foto 2" data-description="Descripción de la foto 2" class="gallery-link">
                <img src="assets/images/f5.jpeg" alt="Foto 2">
              </a>
            </div>
            <div class="col-md-4 mt-5">
              <a href="assets/images/f6.jpeg" title="Foto 3" data-description="Descripción de la foto 3" class="gallery-link">
                <img src="assets/images/f6.jpeg" alt="Foto 3">
              </a>
            </div>
          </div>
  
        </div>
      </section>
        <!-- Presentacion -->
    <section class="presentacion" id="presentacion">
      <div class="row justify-content-center mt-0">
        <div class="col-11 col-sm-9 col-md-7 col-lg-10 text-left p-0 mt-3 mb-2">                              
          
            <h2 class="text-center"><strong>Presentación</strong></h2>
            
            <p >
              KOFITA es una marca sustentable, seleccionamos cuidadosamente nuestras telas y proveedores. Todas nuestras prendas son hechas a mano.
              Somos un espacio de creatividad, diversidad  e inspiración. </p>
              <p>Cada pieza es hecha a pedido especialmente para vos.</p>
              <p>Hacemos envíos internacionales.</p>
              
          
        </div>
      </div>
    </section>


    
<!-- Wizard -->
<section id="suscripcion">
  <div class="row justify-content-center mt-0">
      <div class="col-11 col-sm-9 col-md-7 col-lg-6 text-center p-0 mt-3 mb-2">
          <div class="card px-0 pt-4 pb-0 mt-3 mb-3">
              <h2><strong>Suscripción a Kofita</strong></h2>
              <p>Complete todos los datos requeridos en cada formulario</p>
              <div class="row">
                  <div class="col-md-12 mx-0">
                      <form id="msform">
                          <!-- progressbar -->
                          <ul id="progressbar">
                             <li class="active" id="account"><strong>Cuenta Kofita</strong></li>
                             <li id="personal"><strong>Información Personal</strong></li>
                             <li id="envio"><strong>Información de Envío</strong></li>
                             <li id="confirm"><strong>Fin</strong></li>
                          </ul>
                          <!-- fieldsets -->
                          <fieldset>
                              <div class="form-card">
                                  <h2 class="fs-title">Cuenta Kofita</h2>
                                  
                                    <input type="email" name="email" id="email" placeholder="Email"/>
                                    <input type="text" name="uname"  id="uname"  placeholder="Nombre de Usuario"/>
                                    <input type="password" name="pwd"  id="pwd"  placeholder="Contraseña"/>
                                    <input type="password" name="cpwd"  id="cpwd"  placeholder="Confirmar Contraseña"/>
                                  
                              </div>
                              <input type="button" name="next" class="next action-button" value="Siguiente"/>
                          </fieldset>
                          <fieldset>
                              <div class="form-card">
                                  <h2 class="fs-title">Información Personal</h2>
                                  <input type="text" name="fname"  id="fname"  placeholder="Nombres"/>
                                  <input type="text" name="lname"  id="lname"  placeholder="Apellido"/>
                                  <input type="text" name="phno"  id="phno"  placeholder="Teléfono Fijo"/>
                                  <input type="text" name="phno_2"  id="phno_2"  placeholder="Teléfono Móvil"/>
                              </div>
                              <input type="button" name="previous" class="previous action-button-previous" value="Anterior"/>
                              <input type="button" name="next" class="next action-button" value="Siguiente"/>
                          </fieldset>
                          <fieldset>
                            <div class="form-card">
                                <h2 class="fs-title">Información de Envío</h2>
                                <input type="text" name="direccion" id="direccion" placeholder="Dirección"/>
                                <input type="text" name="ciudad" id="ciudad"  placeholder="Ciudad"/>
                                <input type="text" name="provincia" id="provincia"  placeholder="Provincia"/>
                                <input type="text" name="cp" id="cp" placeholder="Código Postal"/>
                                <input type="text" name="pais" id="pais" placeholder="País"/>
                            </div>
                            <input type="button" name="previous" class="previous action-button-previous" value="Anterior"/>
                            <input type="button" id="ultimo_boton" name="next" class="next action-button" value="Finalizar"/>
                        </fieldset>
                          <fieldset>
                              <div class="form-card">
                                  <h2 class="fs-title text-center">Resumen de Tu Registro</h2>
                                  <br><br>
                                  <div class="row justify-content-center">
                                      <div class="col-9">
                                        <div id="resumen_email"></div>
                                        <div id="resumen_usuario"></div>
                                        <div id="resumen_nombres"></div>
                                        <div id="resumen_apellido"></div>
                                        <div id="resumen_telefonofijo"></div>
                                        <div id="resumen_telefonomovil"></div>
                                        <div id="resumen_direccion"></div>                                        
                                        <div id="resumen_ciudad"></div>
                                        <div id="resumen_provincia"></div>
                                        <div id="resumen_codigopostal"></div>
                                        <div id="resumen_pais"></div>

                                          <!--<img src="https://img.icons8.com/color/96/000000/ok--v2.png" class="fit-image">-->
                                      </div>
                                  </div>
                                  <br><br>
                                  <div class="row justify-content-center">
                                      <div class="col-7 text-center">
                                          <!--<h5>Te has registrado exitosamente en Kofita!</h5>-->
                                          <input type="button" name="next" class="next action-button" value="PDF"/>
                                      </div>
                                  </div>
                              </div>
                          </fieldset>
                      </form>
                  </div>
              </div>
          </div>
      </div>
  </div>
</section>


    <section class="contacto" id="contacto">

      <div class="row justify-content-center mt-0">
        <div class="col-11 col-sm-9 col-md-7 col-lg-6 text-left p-0 mt-3 mb-2">
            <div class="card px-0 pt-4 pb-0 mt-3 mb-3">
                  <form class="form-horizontal" method="post" id="formcontacto">
                      
                        <h2 class="text-center"><strong>Envíenos un Mensaje</strong></h2>
                        <p></p>
  
                          <div class="form-group">
                            <div id="errorMessages"></div>
                              <div class="col-md-12">
                                <label><i class="fa fa-user bigicon text-secondary" > </i> Nombre y Apellido</label>
                                <input  id="namecontact" name="namecontact" type="text" placeholder="" class="form-control">
                              </div>
                          </div>
                    
  
                          <div class="form-group">                              
                              <div class="col-md-12">
                                  <label><i class="fa fa-envelope-o bigicon text-secondary"> </i> Correo Electrónico</label>
                                  <input  id="emailcontact" name="emailcontact" type="text" placeholder="" class="form-control custom-hint">
                              </div>
                          </div>
  
                          <div class="form-group">                              
                              <div class="col-md-12">
                                <label><i class="fa fa-phone-square bigicon text-secondary"> </i> Teléfono</label>
                                  <input  id="phonecontact" name="phonecontact"  type="text" placeholder="" class="form-control">
                              </div>
                          </div>
  
                          <div class="form-group">
                              
                              <div class="col-md-12">
                                <label><i class="fa fa-pencil-square-o bigicon text-secondary"> </i> Consulta</label>
                                  <textarea class="form-control text-light" id="messagecontact" name="messagecontact" placeholder="Ingrese su consulta aquí" rows="7"></textarea>
                              </div>
                          </div>
  
                          <div class="form-group">
                              <div class="col-md-12 text-center">
                                  <button type="submit" class="btn btn-dark btn-lg">Enviar</button>
                              </div>
                          </div>
                      
                      
                  </form>
             
          </div>
        </div>
      </div>
    </section>
      <!--<p id="weather-info"></p>-->
      
 
    <!-- Formulario de Producto -->

    <!-- Social icons -->

    <!-- Scroll to top button -->

    <!-- Web page script -->
       


   <script>
    $(document).ready(function(){
    
    var current_fs, next_fs, previous_fs; //fieldsets
    var opacity;

    var stepNumber = 0;
  
    $(".next").click(function(){
        
        stepNumber = stepNumber + 1;

        
    //Formulario 1 
    if(stepNumber == 1){

        if($("#email").val() == ""){
            alert("No completaste el email");
            $("#email").focus()
            stepNumber = stepNumber - 1
            return false;
        }else{
            var esEmail = ValidateEmail($("#email").val()); 
            if(esEmail == false){
                alert("No es un email válido");
                $("#email").focus()
                stepNumber = stepNumber - 1
                return false;
            } 
        }


        if($("#uname").val() == ""){
            alert("No completaste el nombre de usuario");
            $("#uname").focus()
            stepNumber = stepNumber - 1
            return false;
        }
        if($("#pwd").val() == ""){
            alert("No completaste la contraseña");
            $("#pwd").focus()
            stepNumber = stepNumber - 1
            return false;
        }
        if ($("#pwd").val() !=  $("#cpwd").val()){
            alert("No coincide la contraseña");
            $("#cpwd").focus()
            stepNumber = stepNumber - 1
            return false;
        }

    }

    //Formulario 2
    if(stepNumber == 2){

        if($("#fname").val() == ""){
            alert("No completaste el nombre ");
            $("#fname").focus()
            stepNumber = stepNumber - 1
            return 0;
        }
        if($("#lname").val() == ""){
            alert("No completaste el apellido ");
            $("#lname").focus()
            stepNumber = stepNumber - 1
            return 0;
        }
        if($("#phno").val() == ""){
            alert("No completaste el teléfono fijo ");
            $("#phno").focus()
            stepNumber = stepNumber - 1
            return 0;
        }
        if($("#phno_2").val() == ""){
            alert("No completaste el teléfono móvil ");
            $("#phno_2").focus()
            stepNumber = stepNumber - 1
            return 0;
        }
    }

    //Formulario 3
    if(stepNumber == 3){

        if($("#ciudad").val() == ""){
            alert("No completaste la ciudad ");
            $("#ciudad").focus()
            stepNumber = stepNumber - 1
            return 0;
        }
        if($("#provincia").val() == ""){
            alert("No completaste la provincia o estado ");
            $("#provincia").focus()
            stepNumber = stepNumber - 1
            return 0;
        }
        if($("#cp").val() == ""){
            alert("No completaste el código postal ");
            $("#cp").focus()
            stepNumber = stepNumber - 1
            return 0;
        }
        if($("#pais").val() == ""){
            alert("No completaste el país ");
            $("#país").focus()
            stepNumber = stepNumber - 1
            return 0;
        }


    
    } 
      
      var email = $("#email").val()
      var uname = $("#uname").val()
      var pwd = $("#pwd").val()
      var fname = $("#fname").val()
      var lname = $("#lname").val()
      var phno = $("#phno").val()
      var phno_2 = $("#phno_2").val()
      var direccion = $("#direccion").val()
      var ciudad = $("#ciudad").val()
      var provincia = $("#provincia").val()
      var cp = $("#cp").val()
      var pais = $("#pais").val()
    
      if(stepNumber == 3){
        
        

        $("#resumen_email").html("Correo Electrónico: "+ email)
        $("#resumen_usuario").html("Usuario: "+ uname)
        $("#resumen_nombres").html("Nombres: "+ fname)
        $("#resumen_apellido").html("Apellido: "+ lname)
        $("#resumen_telefonofijo").html("Teléfono Fijo: "+ phno)
        $("#resumen_telefonomovil").html("Teléfono Móvil: "+ phno_2)
        $("#resumen_direccion").html("Dirección: "+ direccion)
        $("#resumen_ciudad").html("Ciudad: "+ ciudad)
        $("#resumen_provincia").html("Provincia: "+ provincia)
        $("#resumen_codigopostal").html("CP: "+ cp)
        $("#resumen_pais").html("País: "+ pais)
      }
      
    if(stepNumber == 4){
        generatePDF(email, uname, fname, lname, phno, phno_2, direccion, ciudad, provincia, cp, pais)
    }
        
        current_fs = $(this).parent();
        next_fs = $(this).parent().next();

        
        //Add Class Active
        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
        
        //show the next fieldset
        next_fs.show(); 
        //hide the current fieldset with style
        current_fs.animate({opacity: 0}, {
            step: function(now) {
                // for making fielset appear animation
                opacity = 1 - now;
    
                current_fs.css({
                    'display': 'none',
                    'position': 'relative'
                });
                next_fs.css({'opacity': opacity});
            }, 
            duration: 600
        });
    });
    
    $(".previous").click(function(){
        
        stepNumber = stepNumber - 1;
       
        current_fs = $(this).parent();
        previous_fs = $(this).parent().prev();
        
        //Remove class active
        $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
        
        //show the previous fieldset
        previous_fs.show();
    
        //hide the current fieldset with style
        current_fs.animate({opacity: 0}, {
            step: function(now) {
                // for making fielset appear animation
                opacity = 1 - now;
    
                current_fs.css({
                    'display': 'none',
                    'position': 'relative'
                });
                previous_fs.css({'opacity': opacity});
            }, 
            duration: 600
        });
    });
    
    $('.radio-group .radio').click(function(){
        $(this).parent().find('.radio').removeClass('selected');
        $(this).addClass('selected');
    });
    
    $(".submit").click(function(){
        return false;
    })

});

function generatePDF(email, uname, fname, lname, phno, phno_2, direccion, ciudad, provincia, cp, pais) {
			const { jsPDF } = window.jspdf;
			const doc = new jsPDF();
			doc.text("Email: " + email, 10, 10);
            doc.text("Usuario: " + uname, 10, 30);
            doc.text("Nombre(s): " + fname, 10, 50);
            doc.text("Apellido(s): " + lname, 10, 70);
            doc.text("Tel: " + phno, 10, 90);
            doc.text("Cel: " + phno_2, 10, 110);
            doc.text("Dirección: " + direccion, 10, 130);
            doc.text("Ciudad: " + ciudad, 10, 150);
            doc.text("Provincia o Estado: " + provincia, 10, 170);
            doc.text("Código Postal: " + cp, 10, 190);
            doc.text("País: " + phno_2, 10, 210);
			doc.save("comprobante_registro.pdf");			
		}	

        function ValidateEmail(mail) 
        {
        if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(mail))
        {
            return (true)
        }
            //alert("You have entered an invalid email address!")
            return (false)
        }
        


     document.getElementById('formcontacto').addEventListener('submit', function(event) {
      event.preventDefault();
      var constraints = {
        namecontact: {
          presence: {
            message: "-Por favor, ingrese su nombre."
          }
        },
        emailcontact: {
          presence: {
            message: "- Por favor, ingrese su correo electrónico."
          },
          email: {
            message: "- Por favor, ingrese una dirección de correo electrónico válida."
          }
        },
        phonecontact: {
          presence: {
            message: "- Por favor, ingrese su contraseña."
          },
          length: {
            minimum: 7,
            tooShort: "- El teléfono debe ser válido."
          }
        },
        messagecontact: {
          presence: {
            message: "- Por favor complete el mensaje."
          },
          length: {
            minimum: 20,
            tooShort: "- Por favor escriba un mensaje detallado."
          }
        }
      };
      // Definir los formatters de mensajes de error

      var formValues = {
        namecontact: document.getElementById('namecontact').value,
        emailcontact: document.getElementById('emailcontact').value,
        phonecontact: document.getElementById('phonecontact').value,
        messagecontact: document.getElementById('messagecontact').value
      };

      var errors = validate(formValues, constraints);
      if (errors) {
        // Mostrar mensajes de error en el formulario
        var errorHTML = '';
        for (var field in errors) {
          if (errors.hasOwnProperty(field)) {
            //alert(JSON.stringify(errors));
            //Obtengo la posicion del guion
            var cadenaTexto = ""
            var cadenaTexto = errors[field][0]
            var caracterBuscado = "-"
            var posicion = cadenaTexto.toLowerCase().indexOf(caracterBuscado.toLowerCase());
            var subcadena = cadenaTexto.substring(posicion, cadenaTexto.length);
            errorHTML += '\n'+ subcadena + '';
          }
        }
        //document.getElementById('errorMessages').innerHTML = errorHTML;
        alert(errorHTML);
      } else {
        // Enviar formulario si no hay errores
        document.getElementById('errorMessages').innerHTML = '';
        document.getElementById('registroForm').submit();
      }
    });

    var lat = -34.6091;
    var lon = -58.4208;

  
    $.ajax({
        url: 'https://api.openweathermap.org/data/2.5/weather',
        dataType: 'json',
        data: {
            lat: lat,
            lon: lon,
            appid: 'f8fa6da234451c4e59d17494278f6b75', // 
            units: 'metric' 
        },
        success: function(data) {
            
            var weatherInfo = data.weather[0].description;
            var temperature = data.main.temp;

           
            $('#weather-info').text('Clima: ' + weatherInfo);
            $('#temperature').text('Temperatura: ' + temperature + '°C');
        },
        error: function() {
            
            console.log('Error al obtener datos del clima');
        }
    });


$(document).ready(function() {
     
      $('.gallery-link').magnificPopup({
        type: 'image',
        gallery: {
          enabled: true
        },
        titleSrc: 'data-description' 
      });
    });
    </script>

</div>
<footer class="bg-dark text-white py-3">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        
        <p> &copy; 2023 Kofita. Todos los derechos reservados.<br>¡Síguenos en redes sociales!</p>
      </div>
      <div class="col-md-6">
        <ul class="list-inline text-right">
          <li class="list-inline-item">
            <a href="https://www.facebook.com/" target="_blank" title="Facebook">
              <i class="fab fa-facebook-f  text-white"></i>
            </a>
          </li>
          <li class="list-inline-item">
            <a href="https://twitter.com/" target="_blank" title="Twitter">
              <i class="fab fa-twitter  text-white"></i>
            </a>
          </li>
          <li class="list-inline-item">
            <a href="https://www.instagram.com/kofita.official" target="_blank" title="Instagram">
              <i class="fab fa-instagram text-white"></i>
            </a>
          </li>           
          
        </ul>
        
      </div>
    </div>
    <div class="row">
        <div class="col-12">
           <p id="temperature"></p>
        </div>
    </div>
   
  </div>
</footer>
 
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>   
<script src="https://cdnjs.cloudflare.com/ajax/libs/validate.js/0.13.1/validate.min.js"></script> 
<script src="assets/js/app.js"></script>    
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>  
<script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
  </body>
</html>